<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gallery - SSDA</title>
    <link rel="stylesheet" href="style.css">
    <link rel="icon" href="assets/logo.png" type="image/png">
    <script src="translations.js"></script>
</head>
<body>

    <!-- Navigation Bar -->
    <nav>
        <a href="index.html" class="nav-logo">
            <img src="assets/logo.png" alt="SSDA Logo">
            <span data-translate-brand>Student Self Defense Advocates</span>
        </a>
        <ul class="nav-links">
            <li><a href="index.html" data-translate="Home">Home</a></li>
            <li><a href="about.html" data-translate="About Us">About Us</a></li>
            <li><a href="donate.html" data-translate="Donate">Donate</a></li>
            <li><a href="contact.html" data-translate="Contact">Contact</a></li>
            <li><a href="join.html" data-translate="Join Us">Join Us</a></li>
            <li><a href="gallery.html" class="active" data-translate="Gallery">Gallery</a></li>
            <li class="language-switcher">
                <div class="language-select-wrapper">
                    <select id="language-select">
                        <option value="en">English</option>
                        <option value="ko">Korean</option>
                    </select>
                </div>
            </li>
        </ul>
        <button class="nav-toggle" aria-label="toggle navigation">
            <span class="hamburger"></span>
        </button>
    </nav>

    <!-- Password Protection Modal -->
    <div class="password-modal" id="password-modal">
        <div class="password-modal-backdrop"></div>
        <div class="password-modal-content">
            <div class="password-modal-icon">
                <svg width="64" height="64" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <rect x="3" y="11" width="18" height="11" rx="2" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M7 11V7a5 5 0 0 1 10 0v4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </div>
            <h2 data-translate="Gallery Access">Gallery Access</h2>
            <p class="password-modal-description" data-translate="Please enter the password to access the gallery">Please enter the password to access the gallery</p>
            <div class="password-input-wrapper">
                <input type="password" id="password-input" class="password-input" placeholder="Enter password" autocomplete="off">
                <svg class="password-input-icon" width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                    <path d="M12 15a3 3 0 1 0 0-6 3 3 0 0 0 0 6z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <path d="M2 12s4-8 10-8 10 8 10 8-4 8-10 8-10-8-10-8z" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                </svg>
            </div>
            <p class="password-error" id="password-error" style="display: none;"></p>
            <button class="btn btn-primary password-submit-btn" id="password-submit-btn" data-translate="Submit">Submit</button>
        </div>
    </div>

    <!-- Main Content -->
    <main id="gallery-main-content" style="display: none;">
        <section class="page-section">
            <div class="container">
                <h2 data-translate="Our Gallery">Our Gallery</h2>
                <p class="section-intro" data-translate="Share your moments with us! Upload your favorite photos and browse through our community gallery.">Share your moments with us! Upload your favorite photos and browse through our community gallery.</p>

                <!-- Upload Section -->
                <div class="gallery-upload-section fade-in">
                    <div class="upload-compact" id="upload-area">
                        <input type="file" id="file-input" multiple accept="image/*" style="display: none;">
                        <div class="upload-compact-content">
                            <svg class="upload-compact-icon" width="24" height="24" viewBox="0 0 24 24" fill="none">
                                <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" stroke="currentColor" stroke-width="2"/>
                                <polyline points="17 8 12 3 7 8" stroke="currentColor" stroke-width="2"/>
                                <line x1="12" y1="3" x2="12" y2="15" stroke="currentColor" stroke-width="2"/>
                            </svg>
                            <span data-translate="Upload Images">Upload Images</span>
                        </div>
                    </div>
                    
                    <div class="upload-preview-panel" id="preview-container" style="display: none;">
                        <div class="preview-panel-header">
                            <div class="preview-panel-title">
                                <span data-translate="Selected">Selected</span>
                                <span class="preview-count-badge" id="preview-count"></span>
                            </div>
                            <button class="preview-clear-btn" id="clear-preview" data-translate="Clear">Clear</button>
                        </div>
                        <div class="preview-mini-grid" id="preview-grid"></div>
                        <div class="upload-actions">
                            <div class="group-selector">
                                <div class="group-tabs">
                                    <label class="group-tab active">
                                        <input type="radio" name="group-option" value="new" id="new-group-radio" checked>
                                        <span data-translate="New">New</span>
                                    </label>
                                    <label class="group-tab">
                                        <input type="radio" name="group-option" value="existing" id="existing-group-radio">
                                        <span data-translate="Existing">Existing</span>
                                    </label>
                                </div>
                                <input type="text" id="group-title-input" class="group-input-modern" data-translate-placeholder="Group name..." placeholder="Group name...">
                                <select id="existing-group-select" class="group-select-modern" style="display: none;">
                                    <option value="">Select group...</option>
                                </select>
                            </div>
                            <button class="btn-upload-primary" id="upload-btn" data-translate="Upload">Upload</button>
                        </div>
                    </div>
                    
                    <div class="upload-status" id="upload-progress" style="display: none;">
                        <div class="status-progress">
                            <div class="status-bar" id="progress-fill"></div>
                        </div>
                        <p class="status-text" id="progress-text" data-translate="Uploading...">Uploading...</p>
                    </div>
                    
                    <div class="upload-status success" id="upload-success" style="display: none;">
                        <p class="status-text" id="success-message" data-translate="‚úì Uploaded successfully!">‚úì Uploaded successfully!</p>
                    </div>
                </div>

                <!-- Gallery Display -->
                <div class="gallery-display-section fade-in">
                    <div class="gallery-controls">
                        <h3 class="gallery-display-title" data-translate="Gallery">Gallery</h3>
                        <button class="gallery-refresh" id="refresh-gallery-btn" title="Refresh">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none">
                                <path d="M23 4v6h-6M1 20v-6h6M3.51 9a9 9 0 0 1 14.85-3.36L23 10M1 14l4.64 4.36A9 9 0 0 0 20.49 15" stroke="currentColor" stroke-width="2"/>
                            </svg>
                        </button>
                    </div>
                    <div class="gallery-masonry" id="gallery-grid">
                        <div class="gallery-loading" id="loading-spinner">
                            <div class="loading-dots">
                                <span></span><span></span><span></span>
                            </div>
                            <p data-translate="Loading...">Loading...</p>
                        </div>
                    </div>
                    <div class="gallery-empty" id="empty-gallery" style="display: none;">
                        <div class="empty-state">
                            <svg class="empty-icon" width="80" height="80" viewBox="0 0 24 24" fill="none">
                                <rect x="3" y="3" width="18" height="18" rx="2" stroke="currentColor" stroke-width="2"/>
                                <circle cx="8.5" cy="8.5" r="1.5" stroke="currentColor" stroke-width="2"/>
                                <path d="M21 15l-5-5L5 21" stroke="currentColor" stroke-width="2"/>
                            </svg>
                            <p data-translate="No images yet. Upload some to get started!">No images yet. Upload some to get started!</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <!-- Slideshow Modal -->
    <div class="slideshow-modal" id="slideshow-modal">
        <button class="slideshow-close" id="slideshow-close" aria-label="Close slideshow">√ó</button>
        <button class="slideshow-nav slideshow-prev" id="slideshow-prev" aria-label="Previous image">‚Äπ</button>
        <button class="slideshow-nav slideshow-next" id="slideshow-next" aria-label="Next image">‚Ä∫</button>
        <div class="slideshow-content">
            <img id="slideshow-image" src="" alt="Gallery image">
            <div class="slideshow-info">
                <p class="slideshow-counter" id="slideshow-counter"></p>
                <button class="delete-image-btn" id="delete-image-btn" title="Delete this image" data-translate="Delete">üóëÔ∏è Delete</button>
            </div>
        </div>
    </div>

    <!-- Footer -->
    <footer>
        <p data-translate="¬© 2025 Student Self Defense Advocates - A Student-led Project of Next Generation Advocates">¬© 2025 Student Self Defense Advocates - A Student-led Project of Next Generation Advocates</p>
    </footer>

    <script src="script.js"></script>
    <script src="gallery.js"></script>
</body>
</html>

